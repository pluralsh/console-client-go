mutation CreateCluster($attributes: ClusterAttributes!) {
    createCluster(attributes: $attributes) {
        deployToken
        ... ClusterFragment
    }
}

mutation UpdateCluster($id: ID!, $attributes: ClusterUpdateAttributes!) {
    updateCluster(id: $id, attributes: $attributes){
        ... ClusterFragment
    }
}

mutation DeleteCluster($id: ID!) {
    deleteCluster(id: $id) {
        ...ClusterFragment
    }
}

mutation DetachCluster($id: ID!) {
    detachCluster(id: $id) {
        ...ClusterFragment
    }
}

mutation CreateClusterProvider($attributes: ClusterProviderAttributes!) {
    createClusterProvider(attributes: $attributes) {
        ...ClusterProviderFragment
    }
}

mutation UpdateClusterProvider($id: ID!, $attributes: ClusterProviderUpdateAttributes!) {
    updateClusterProvider(id: $id, attributes: $attributes) {
        ...ClusterProviderFragment
    }
}

mutation DeleteClusterProvider($id: ID!) {
    deleteClusterProvider(id: $id) {
        ...ClusterProviderFragment
    }
}

mutation PingCluster($attributes: ClusterPing!) {
    pingCluster(attributes: $attributes) {
        id
        name
    }
}

mutation RegisterRuntimeServices($services: [RuntimeServiceAttributes], $serviceId: ID) {
    registerRuntimeServices(services: $services, serviceId: $serviceId)
}

query ListClusters($cursor: String, $before: String, $last: Int) {
    clusters(after: $cursor, first: 100, before: $before, last: $last) {
        edges { ...ClusterEdgeFragment }
    }
}

query GetCluster($id: ID) {
    cluster(id: $id) {
        ...ClusterFragment
    }
}

query GetClusterByHandle($handle: String) {
    cluster(handle: $handle) {
        ...ClusterFragment
    }
}

query GetClusterProvider($id: ID!) {
    clusterProvider(id: $id) {
        ...ClusterProviderFragment
    }
}

query ListClusterServices {
    clusterServices {
        ...ServiceDeploymentBaseFragment
    }
}

query ListServiceDeployments($cursor: String, $before: String, $last: Int)  {
    serviceDeployments(after: $cursor, first: 100, before: $before, last: $last) {
        edges { node { ...ServiceDeploymentFragment } }
    }
}

query MyCluster {
    myCluster {
        ...{
            id
            name
        }
    }
}
